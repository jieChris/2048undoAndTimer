<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>2048 多玩法</title>

  <link href="style/main.css?v=44" rel="stylesheet" type="text/css">
  <link rel="shortcut icon" href="favicon.ico?v=42">
  <link rel="apple-touch-icon" href="meta/apple-touch-icon.png?v=42">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0, maximum-scale=1, user-scalable=no, minimal-ui">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; connect-src 'self' http://127.0.0.1:3001 http://localhost:3001; script-src 'self' https://www.google-analytics.com; style-src 'self' 'unsafe-inline';">
</head>
<body>
  <div class="container">
    <div class="stats-left">
      <div id="stats-4-rate">4率: 10%</div>
      <div id="stats-total">总步数: 0</div>
      <div id="stats-moves">移动步数: 0</div>
      <div id="stats-undo">撤回步数: 0</div>
    </div>
    <div class="stats-right" id="stats-ips">IPS: 0</div>
    <div class="heading">
      <div class="top-action-buttons">
        <a class="top-action-btn stats-panel-toggle" id="stats-panel-toggle">统计</a>
        <a class="top-action-btn" id="top-export-replay-btn">导出回放</a>
        <a class="top-action-btn" href="replay.html">高级回放</a>
        <a class="top-action-btn" href="modes.html">模式选择</a>
        <a class="top-action-btn" id="top-settings-btn">设置</a>
      </div>
      <h1 class="title">2048</h1>
      <div class="scores-container">
        <div class="score-container">0</div>
        <div class="best-container">0</div>
      </div>
      <div class="above-game" style="clear: both; padding-top: 15px;">
      <p class="game-intro" id="play-mode-intro">模式加载中...</p>
      <a class="restart-button">新游戏</a>
      </div>
    </div>

    <div id="timerbox">
        <div id="timer"></div>

        <div id="timer-row-16">
            <div class="timertile timer-legend-16" style="color: #f9f6f2; font-size: 22px;">16</div>
            <div class="timertile" id="timer16" style="margin-left:6px; width:159px"></div>
            <br><br>
        </div>
        <div id="timer-row-32">
            <div class="timertile timer-legend-32" style="color: #f9f6f2; font-size: 22px;">32</div>
            <div class="timertile" id="timer32" style="margin-left:6px; width:159px"></div>
            <br><br>
        </div>
        <div class="timertile timer-legend-64" style="color: #f9f6f2; font-size: 22px;">64</div>
        <div class="timertile" id="timer64" style="margin-left:6px; width:159px"></div>
        <br><br>
        <div class="timertile timer-legend-128" style="color: #f9f6f2; font-size: 18px;">128</div>
        <div class="timertile" id="timer128" style="margin-left:6px; width:159px"></div>
        <br><br>
        <div class="timertile timer-legend-256" style="color: #f9f6f2; font-size: 18px;">256</div>
        <div class="timertile" id="timer256" style="margin-left:6px; width:159px"></div>
        <br><br>
        <div class="timertile timer-legend-512" style="color: #f9f6f2; font-size: 18px;">512</div>
        <div class="timertile" id="timer512" style="margin-left:6px; width:159px"></div>
        <br><br>
        <div class="timertile timer-legend-1024" style="color: #f9f6f2; font-size: 14px;">1024</div>
        <div class="timertile" id="timer1024" style="margin-left:6px; width:159px"></div>
        <br><br>
        <div class="timertile timer-legend-2048" style="color: #f9f6f2; font-size: 14px;">2048</div>
        <div class="timertile" id="timer2048" style="margin-left:6px; width:159px"></div>
        <br><br>
        <div class="timertile timer-legend-4096" style="color: #f9f6f2; font-size: 14px;">4096</div>
        <div class="timertile" id="timer4096" style="margin-left:6px; width:159px"></div>
        <br><br>
        <div class="timertile timer-legend-8192" style="color: #f9f6f2; font-size: 14px;">8192</div>
        <div class="timertile" id="timer8192" style="margin-left:6px; width:159px"></div>
        <br><br>
        <div class="timertile timer-legend-16384" style="color: #f9f6f2; font-size: 13px;">16384</div>
        <div class="timertile" id="timer16384" style="margin-left:6px; width:159px"></div>
        <br><br>
        <div class="timertile timer-legend-32768" style="color: #f9f6f2; font-size: 13px;">32768</div>
        <div class="timertile" id="timer32768" style="margin-left:6px; width:159px"></div>
        <br><br>
    </div>

    <div class="game-container">
      <div class="game-message">
        <p></p>
        <div class="lower">
          <a class="keep-playing-button">继续游戏</a>
          <a class="undo-button" id="undo-btn-gameover">撤销</a>
          <a class="retry-button">重试</a>
        </div>
      </div>

      <div class="grid-container">
        <div class="grid-row">
          <div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div>
        </div>
        <div class="grid-row">
          <div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div>
        </div>
        <div class="grid-row">
          <div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div>
        </div>
        <div class="grid-row">
          <div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div><div class="grid-cell"></div>
        </div>
      </div>

      <div class="tile-container"></div>
    </div>
    <hr>
    <p class="game-explanation">
      <strong class="important" id="play-mode-title">多玩法</strong>
    </p>
  </div>

  <div id="replay-modal" class="replay-modal-overlay" style="display: none;">
    <div class="replay-modal-content">
      <h3 id="replay-modal-title">回放</h3>
      <textarea id="replay-textarea" class="replay-textarea"></textarea>
      <div class="replay-modal-actions">
        <button id="replay-action-btn" class="replay-button">执行</button>
        <button class="replay-button">关闭</button>
      </div>
    </div>
  </div>

  <div id="settings-modal" class="replay-modal-overlay" style="display: none;">
    <div class="replay-modal-content settings-modal-content">
      <h3>设置</h3>
      <div class="settings-row">
        <label for="theme-select">棋子配色</label>
        <select id="theme-select" class="settings-select"></select>
      </div>
      <div class="settings-row">
        <label for="undo-enabled-toggle">撤回功能</label>
        <label class="settings-switch-row">
          <input id="undo-enabled-toggle" type="checkbox">
          <span>启用撤回（Z键/撤销按钮）</span>
        </label>
        <div id="undo-settings-note" class="settings-note"></div>
      </div>
      <div class="settings-row">
        <label>配色预览（2 - 65536）</label>
        <div id="theme-preview-grid" class="theme-preview-grid"></div>
      </div>
      <div class="replay-modal-actions">
        <button id="settings-close-btn" class="replay-button">关闭</button>
      </div>
    </div>
  </div>

  <script src="js/seedrandom.js?v=42"></script>
  <script src="js/animframe_polyfill.js?v=42"></script>
  <script src="js/keyboard_input_manager.js?v=42"></script>
  <script src="js/theme_manager.js?v=4"></script>
  <script src="js/mode_catalog.js?v=2"></script>
  <script src="js/html_actuator.js?v=47"></script>
  <script src="js/grid.js?v=42"></script>
  <script src="js/tile.js?v=42"></script>
  <script src="js/local_score_manager.js?v=42"></script>
  <script src="js/api_client.js?v=3"></script>
  <script src="js/game_manager.js?v=54"></script>
  <script src="js/play_application.js?v=2"></script>
  <script src="js/index_ui.js?v=45"></script>
</body>
</html>
