<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>2048 Test Board</title>

  <link href="style/main.css?v=16" rel="stylesheet" type="text/css">
  <link rel="shortcut icon" href="favicon.ico?v=16">
  <link rel="apple-touch-icon" href="meta/apple-touch-icon.png?v=16">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0, maximum-scale=1, user-scalable=no, minimal-ui">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://www.google-analytics.com; style-src 'self' 'unsafe-inline';">
  
  <style>
      /* Test Board Specific Styles */
      .test-controls {
          background: #bbada0;
          padding: 15px;
          border-radius: 6px;
          margin-top: 20px;
          text-align: center;
          color: white;
      }
      .test-controls label {
          font-weight: bold;
          margin-right: 10px;
      }
      .test-controls select {
          padding: 5px;
          border-radius: 3px;
          border: none;
          background: #faf8ef;
          color: #776e65;
          font-weight: bold;
          font-size: 16px;
          cursor: pointer;
      }
      .test-controls p {
          margin: 10px 0 0;
          font-size: 14px;
          color: #eee4da;
      }
      .grid-cell {
          cursor: pointer; /* Indicate clickable */
      }
      /* Hover effect for cleaner UI */
      .grid-cell:hover {
          background: rgba(238, 228, 218, 0.35);
      }
  </style>
</head>
<body>
  <div class="container">
    <div class="stats-left">
      <div id="stats-4-rate">4率: 10%</div>
      <div id="stats-total">总步数: 0</div>
      <div id="stats-moves">移动步数: 0</div>
      <div id="stats-undo">撤回步数: 0</div>
    </div>


    <div class="stats-right" id="stats-ips">IPS: 0</div>
    <div class="heading">
      <h1 class="title">Test 2048</h1>
      <div class="scores-container">
        <div class="score-container">0</div>
        <div class="best-container">0</div>
      </div>
      <div class="above-game" style="clear: both; padding-top: 15px;">

      <a class="restart-button">清空棋盘</a>
      </div>
    </div>

    <div id="timerbox">
        <div id="timer"></div>
        <div class="timertile" style="color: #f9f6f2; font-size: 22px; background: #f59563">16</div>
        <div class="timertile" id="timer16" style="margin-left:6px; width:159px"></div>
        <br><br>
        <div class="timertile" style="color: #f9f6f2; font-size: 22px; background: #f67c5f">32</div>
        <div class="timertile" id="timer32" style="margin-left:6px; width:159px"></div>
        <br><br>
        <div class="timertile" style="color: #f9f6f2; font-size: 22px; background: #f65e3b">64</div>
        <div class="timertile" id="timer64" style="margin-left:6px; width:159px"></div>
        <br><br>
        <div class="timertile" style="color: #f9f6f2; font-size: 18px; background: #edcf72">128</div>
        <div class="timertile" id="timer128" style="margin-left:6px; width:159px"></div>
        <br><br>
        <div class="timertile" style="color: #f9f6f2; font-size: 18px; background: #edcc61">256</div>
        <div class="timertile" id="timer256" style="margin-left:6px; width:159px"></div>
        <br><br>
        <div class="timertile" style="color: #f9f6f2; font-size: 18px; background: #edc850">512</div>
        <div class="timertile" id="timer512" style="margin-left:6px; width:159px"></div>
        <br><br>
        <div class="timertile" style="color: #f9f6f2; font-size: 14px; background: #edc53f">1024</div>
        <div class="timertile" id="timer1024" style="margin-left:6px; width:159px"></div>
        <br><br>
        <div class="timertile" style="color: #f9f6f2; font-size: 14px; background: #edc22e">2048</div>
        <div class="timertile" id="timer2048" style="margin-left:6px; width:159px"></div>
        <br><br>
        <div class="timertile" style="color: #f9f6f2; font-size: 14px; background: #3c3a32">4096</div>
        <div class="timertile" id="timer4096" style="margin-left:6px; width:159px"></div>
        <br><br>
        <div class="timertile" style="color: #f9f6f2; font-size: 14px; background: #3c3a32">8192</div>
        <div class="timertile" id="timer8192" style="margin-left:6px; width:159px"></div>
        <br><br>
        <div class="timertile" style="color: #f9f6f2; font-size: 13px; background: #3c3a32">16384</div>
        <div class="timertile" id="timer16384" style="margin-left:6px; width:159px"></div>
        <br><br>
        <div class="timertile" style="color: #f9f6f2; font-size: 13px; background: #3c3a32">32768</div>
        <div class="timertile" id="timer32768" style="margin-left:6px; width:159px"></div>
        <br><br>
        <!-- Sub-timers for 32k+ -->
        <div id="timer32k-sub-container" style="display:none;">
            <div class="timertile" style="color: #f9f6f2; font-size: 12px; background: #3c3a32; margin-left: 25px; width: 40px;">8192</div>
            <div class="timertile" id="timer8192-sub" style="margin-left:6px; width:134px;"></div>
            <br><br>
            <div class="timertile" style="color: #f9f6f2; font-size: 12px; background: #3c3a32; margin-left: 25px; width: 40px;">16384</div>
            <div class="timertile" id="timer16384-sub" style="margin-left:6px; width:134px;"></div>
        </div>
    </div>



    <div class="game-container">
      <div class="game-message">
        <p></p>
        <div class="lower">
	        <a class="keep-playing-button">继续游戏</a>
          <a class="undo-button" id="undo-btn-gameover">撤销</a>
          <a class="retry-button">重试</a>
        </div>
      </div>

      <div class="grid-container" id="test-grid-container">
        <!-- Rows will be clicked -->
        <div class="grid-row">
          <div class="grid-cell" data-x="0" data-y="0"></div>
          <div class="grid-cell" data-x="1" data-y="0"></div>
          <div class="grid-cell" data-x="2" data-y="0"></div>
          <div class="grid-cell" data-x="3" data-y="0"></div>
        </div>
        <div class="grid-row">
          <div class="grid-cell" data-x="0" data-y="1"></div>
          <div class="grid-cell" data-x="1" data-y="1"></div>
          <div class="grid-cell" data-x="2" data-y="1"></div>
          <div class="grid-cell" data-x="3" data-y="1"></div>
        </div>
        <div class="grid-row">
          <div class="grid-cell" data-x="0" data-y="2"></div>
          <div class="grid-cell" data-x="1" data-y="2"></div>
          <div class="grid-cell" data-x="2" data-y="2"></div>
          <div class="grid-cell" data-x="3" data-y="2"></div>
        </div>
        <div class="grid-row">
          <div class="grid-cell" data-x="0" data-y="3"></div>
          <div class="grid-cell" data-x="1" data-y="3"></div>
          <div class="grid-cell" data-x="2" data-y="3"></div>
          <div class="grid-cell" data-x="3" data-y="3"></div>
        </div>
      </div>

      <div class="tile-container">
      </div>
    </div>
    
    </div>

    <!-- Test Controls -->
    <div class="test-controls" style="clear: both; margin-top: 30px; width: 500px; margin-left: auto; margin-right: auto;">
        <label for="test-tile-value">选择要插入的方块:</label>
        <select id="test-tile-value">
            <option value="2">2</option>
            <option value="4">4</option>
            <option value="8">8</option>
            <option value="16">16</option>
            <option value="32">32</option>
            <option value="64">64</option>
            <option value="128">128</option>
            <option value="256">256</option>
            <option value="512">512</option>
            <option value="1024">1024</option>
            <option value="2048">2048</option>
            <option value="4096">4096</option>
            <option value="8192">8192</option>
            <option value="16384">16384</option>
            <option value="32768">32768</option>
            <option value="65536">65536</option>
        </select>
        <p>选中数字后，点击棋盘上任意位置即可插入。</p>
        <p style="color: #f59563; font-size: 13px;">注意：插入大数字会导致该数字以下（包含）的计时失效。</p>
    </div>
    
    <div style="text-align: center; margin-top: 30px;">
        <a href="index.html" style="font-weight: bold; text-decoration: underline; color: #776e65;">返回主游戏</a>
    </div>
  </div>

  <script src="js/seedrandom.js?v=16"></script>
  <script src="js/animframe_polyfill.js?v=16"></script>
  <script src="js/keyboard_input_manager.js?v=16"></script>
  <script src="js/html_actuator.js?v=16"></script>
  <script src="js/grid.js?v=16"></script>
  <script src="js/tile.js?v=16"></script>
  <script src="js/local_score_manager.js?v=16"></script>
  <script src="js/game_manager.js?v=16"></script>
  <script src="js/application.js?v=16"></script>
  <script src="js/index_ui.js?v=16"></script>
  
  <!-- Test UI Logic -->
  <script src="js/test_ui.js?v=16"></script>

</body>
</html>
