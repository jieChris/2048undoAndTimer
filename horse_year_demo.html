<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Year of Horse Theme Demo</title>
  <link href="style/main.css" rel="stylesheet" type="text/css">
  <style>
    /* Demo Layout Overrides */
    body {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        margin: 0;
    }
    .demo-container {
        margin-top: 50px;
    }
    .demo-grid {
        display: grid;
        grid-template-columns: repeat(4, 107px);
        grid-template-rows: repeat(1, 107px);
        gap: 15px;
        background: #bbada0; /* Default, will be overridden */
        padding: 15px;
        border-radius: 6px;
    }
    .demo-cell {
        width: 107px;
        height: 107px;
        border-radius: 3px;
        background: rgba(238, 228, 218, 0.35);
        position: relative;
    }
    /* Mimic Game Tile Structure */
    .tile {
        position: absolute;
        width: 107px;
        height: 107px;
        border-radius: 3px;
        z-index: 10;
        display: block; /* Ensure it takes space */
    }
    .tile-inner {
        width: 100%;
        height: 100%;
        border-radius: 3px;
        background: #eee4da;
        text-align: center;
        font-weight: bold;
        z-index: 10;
        font-size: 55px;
        line-height: 107px;
    }
  </style>
</head>
<body class="horse_year">
  <h1>Theme Verification: Year of Horse</h1>
  
  <div class="game-container demo-container">
    <div class="game-message">
      <p>Game Container Background Check</p>
    </div>
    
    <div class="grid-container demo-grid">
      <!-- Tile 2 (Watermark Check) -->
      <div class="demo-cell">
          <div class="tile tile-2">
              <div class="tile-inner">2</div>
          </div>
      </div>
      
      <!-- Tile 4 (Watermark Check) -->
      <div class="demo-cell">
          <div class="tile tile-4">
              <div class="tile-inner">4</div>
          </div>
      </div>

      <!-- Tile 1024 (Gold Border Check) -->
      <div class="demo-cell">
          <div class="tile tile-1024">
              <div class="tile-inner" style="font-size: 35px;">1024</div>
          </div>
      </div>

      <!-- Tile 2048 (Golden Horse Icon Check) -->
      <div class="demo-cell">
          <div class="tile tile-2048">
              <div class="tile-inner" style="font-size: 35px;">2048</div>
          </div>
      </div>
    </div>
  </div>

  <div id="debug-info" style="margin-top: 20px; color: #fff; background: rgba(0,0,0,0.5); padding: 10px;">
      Checking assets...
  </div>

  <script src="js/theme_manager.js"></script>
  <script>
    // Force apply the theme
    setTimeout(function() {
        if (window.ThemeManager) {
            console.log("Applying horse_year theme...");
            window.ThemeManager.applyTheme("horse_year");
            
            // Debug check
            var styleTag = document.getElementById("theme-style"); // ID from manager
            var debugEl = document.getElementById("debug-info");
            
            if (styleTag && styleTag.textContent.indexOf("horse_year") !== -1) {
                debugEl.innerHTML += "<br>CSS Generated Successfully.";
            } else {
                debugEl.innerHTML += "<br>CSS Generation Failed or Tag Missing.";
            }
            
            // Check computed style of tile 2
            var tile2 = document.querySelector(".tile-2 .tile-inner");
            var computed = window.getComputedStyle(tile2);
            debugEl.innerHTML += "<br>Tile 2 Bg Image: " + (computed.backgroundImage !== "none" ? "Present" : "Missing");
            
            // Check computed style of tile 2048 ::after
            // Psuedo elements hard to check from JS, but we can check if the rule exists in text
        }
    }, 500);
  </script>
</body>
</html>
